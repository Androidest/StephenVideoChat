{"version":3,"sources":["commons/SharedStyle.js","commons/FBase.js","providers/AuthProvider.js","providers/ChatUserProvider.js","commons/constants.js","commons/LocalStorage.js","views_router/GroupChat.js","views_router/Home.js","assets/blue_planet.svg","assets/cyan_planet.svg","assets/earth.svg","assets/jupiter.svg","assets/moon.svg","assets/orange_planet.svg","assets/red_planet.svg","assets/ring_planet.svg","assets/star.svg","views/LoginSpace.js","views/LoginPanel1.js","views_router/Login.js","views_router/Profile.js","views_router/AppRouter.js","App.js","_init_/reportWebVitals.js","index.js"],"names":["flex_row","css","flex_col","Css","horz","left","center","right","in_space","in_out_space","vert","top","bottom","stretch","GlobalStyle","createGlobalStyle","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","dbAuth","auth","firestore","ec","AES","encrypt","dc","decrypt","authContext","createContext","AuthProvider","children","useState","user","setUser","isInit","setInit","useEffect","onAuthStateChanged","id","enc","msg","dec","reCreateUser","contextValue","login","email","password","a","signInWithEmailAndPassword","Promise","resolve","logout","signOut","Provider","value","useAuth","useContext","initMe","uuid","v4","name","photoUrl","chatUserContext","ChatUserProvider","isReady","setReady","key","initialValue","isClearHistory","window","localStorage","removeItem","item","getItem","JSON","parse","setItem","stringify","error","console","data","setData","Function","useLocalStorage","me","setMe","them","useChatUser","GroupChat","Div","styled","div","Home","Panel","x","y","slowDown","springProps","trans","useCallback","tx","ty","PanelDiv","style","transform","xy","interpolate","Planet","svg","w","Img","src","width","LoginSpace","useSpring","config","mass","tension","friction","props","set","calc","innerWidth","innerHeight","Container","onMouseMove","clientX","clientY","StarImg","Star","Orange","Jupiter","Ring","Blue","Red","Cyan","Earth","Moon","animated","img","LoginPanel1","cUser","from","useLocation","state","history","useHistory","setPassword","isError","setError","onClick","replace","InvitationCode","onChange","e","target","Button","input","attrs","type","placeholder","button","Login","Profile","LOGIN","GROUPCHAT","PROFILE","DefaultRoute","redirectPath","location","path","to","pathname","AppRouter","Navigation","NavButton","exact","Link","AppContainer","App","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b89dde5b.chunk.js","sourcesContent":["import styled, { createGlobalStyle, css } from \"styled-components\"\r\n\r\n//############### Styled #############################################################################\r\nexport const Styled = {\r\n    \r\n}\r\n\r\n\r\n\r\n//############### CSS #############################################################################\r\nconst flex_row = css `\r\n    display: flex;\r\n    flex-direction: row;\r\n`;\r\n\r\nconst flex_col = css `\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const Css = {\r\n    //==================== flex row =====================\r\n    flex_row: {\r\n        horz: {\r\n            left : css ` ${flex_row} justify-content: flex-start;`,\r\n            center : css ` ${flex_row} justify-content: center;`,\r\n            right : css ` ${flex_row} justify-content: flex-end;`,\r\n            in_space : css ` ${flex_row} justify-content: space-between;`,\r\n            in_out_space : css ` ${flex_row} justify-content: space-evenly;`\r\n        },\r\n        \r\n        vert: {\r\n            top : css `align-items:flex-start;`,\r\n            center : css `align-items:center;`,\r\n            bottom : css `align-items:flex-end;`,\r\n            stretch : css `align-items:stretch;`\r\n        }\r\n    },\r\n\r\n    //==================== flex col =====================\r\n    flex_col: {\r\n        vert: {\r\n            top : css ` ${flex_col} justify-content: flex-start;`,\r\n            center : css ` ${flex_col} justify-content: center;`,\r\n            bottom : css ` ${flex_col} justify-content: flex-end;`,\r\n            in_space : css ` ${flex_col} justify-content: space-between;`,\r\n            in_out_space : css ` ${flex_col} justify-content: space-evenly;`\r\n        },\r\n        \r\n        horz: {\r\n            left : css `align-items:flex-start;`,\r\n            center : css `align-items:center;`,\r\n            right : css `align-items:flex-end;`,\r\n            stretch : css `align-items:stretch;`\r\n        }\r\n    },\r\n}\r\n\r\n\r\n\r\n//############### Global Style #####################################################################\r\nexport const GlobalStyle = createGlobalStyle `\r\n    html, body, #root {\r\n        height: 100%;\r\n        width: 100%;\r\n\t    overflow: hidden;\r\n    }\r\n\r\n    body {\r\n        margin: 0;\r\n        background-color: rgb(255, 255, 255);\r\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n            sans-serif;\r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n    }\r\n\r\n    code {\r\n        font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n    }\r\n`; ","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/analytics\";\r\n\r\n{\r\n    const firebaseConfig = {\r\n        apiKey: \"AIzaSyByUAid1ySJpc7RGmLGdtsuceuFLJcr32A\",\r\n        authDomain: \"react-tensor-app.firebaseapp.com\",\r\n        projectId: \"react-tensor-app\",\r\n        storageBucket: \"react-tensor-app.appspot.com\",\r\n        messagingSenderId: \"710084648290\",\r\n        appId: \"1:710084648290:web:f9b770ead99b5f0c8aa03b\",\r\n        measurementId: \"G-L446FGJC6L\"\r\n    };\r\n    \r\n    // Initialize Firebase\r\n    firebase.initializeApp(firebaseConfig);\r\n    firebase.analytics();\r\n}\r\n\r\nexport const db = firebase;\r\nexport const dbAuth = firebase.auth();\r\nexport const dbStore = firebase.firestore();\r\n\r\n","//AuthProvider 用于允许登入者拥有访问服务器的权限，使用一个特定账号登录，并非社交用户。\r\n//社交用户请看ChatUserProvider\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { AES } from \"crypto-js\";\r\nimport { dbAuth } from \"../commons/FBase\";\r\nconst { encrypt:ec, decrypt:dc} = AES;\r\n\r\n//========= models ================\r\nfunction reCreateUser(user) {\r\n    const { id } = user;\r\n    const enc = (msg)=> ec(msg, id);\r\n    const dec = (msg)=> dc(msg, id);\r\n    return { enc, dec };\r\n}\r\n\r\n// ====== 自定义用户验证 context 对象 =============\r\nconst authContext = createContext(null);\r\n\r\n// ====== 自定义context container =============\r\nexport function AuthProvider({ children }) {\r\n    const [user, setUser] = useState(null);\r\n    const [isInit, setInit] = useState(false); //可以知道是否正在自动登录\r\n\r\n    useEffect(()=>{\r\n        // 手动登入登出成功后，或启动时自动登录成功后，都会进来一次\r\n        dbAuth.onAuthStateChanged((user)=>{\r\n            if(user) {\r\n                setUser(reCreateUser(user));\r\n            } else {\r\n                setUser(null);\r\n            }\r\n            setInit(true); //若上次登出了，下次启动时onAuthStateChanged立刻出发，并且user为null\r\n        })\r\n    },[])\r\n\r\n    //==== 手动登录 ====\r\n    const login = async (email, password)=>{\r\n        try{\r\n            // 由于使用 dbAuth.onAuthStateChanged 统一手动登录和自动登录，在此不需要获得user\r\n            // const {user} = await dbAuth.signInWithEmailAndPassword(email, password);\r\n            await dbAuth.signInWithEmailAndPassword(email, password);\r\n            return Promise.resolve(true);  //提示登入成功，登录界面可以知道什么时候redirect\r\n        }\r\n        catch(e){\r\n            return Promise.resolve(false); //提示登入失败，登录界面可以知道密码对不对\r\n        }\r\n    }\r\n\r\n    //==== 手动登出 ====\r\n    const logout = async ()=>{\r\n        try{\r\n            await dbAuth.signOut();\r\n            return Promise.resolve(true);\r\n        }\r\n        catch(e){\r\n            return Promise.resolve(false);\r\n        }\r\n    }\r\n\r\n    const contextValue = {isInit, user, login, logout};\r\n\r\n    // ====== 自定义context container =============\r\n    return (\r\n        <authContext.Provider value={contextValue}> \r\n            {children}\r\n        </authContext.Provider>\r\n    )\r\n} \r\n\r\n// ====== 自定义context hook =============\r\n/**\r\n * @description AuthProvider 的子组件可以使用 useAuth() 获得用户验证相关hook\r\n * @return {{isInit:boolean, user:object, login:Function, logout:Function}}\r\n */\r\nexport function useAuth() {\r\n    return useContext(authContext);\r\n}","// ChatUserProvider 为社交用户，本app使用者，一个浏览器一个。\r\nimport { useLocalStorage } from \"commons/LocalStorage\";\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport { v4 } from 'uuid';\r\nimport { DEFAULT_PHOTO } from 'commons/constants';\r\n\r\n\r\n// ================== models ===================\r\nconst isClearHistory = false;\r\nconst initMe = {\r\n    uuid: v4(),\r\n    name: \"MyName\",\r\n    photoUrl: DEFAULT_PHOTO \r\n};\r\n\r\n// ====== 自定义社交用户的 context 对象 =============\r\nconst chatUserContext = createContext(null);\r\n\r\n// ====== 自定义context container =============\r\nexport function ChatUserProvider({ children }) {\r\n    const { user } = useAuth();\r\n    const [isReady, setReady] = useState(false);\r\n    const [me, setMe] = useLocalStorage('me', initMe, isClearHistory); \r\n    const [them, setThem] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        \r\n    },[user])\r\n\r\n    const contextValue = { isReady, setReady, me, setMe, them };\r\n\r\n    // ====== 自定义context container =============\r\n    return (\r\n        <chatUserContext.Provider value={contextValue}> \r\n            {children}\r\n        </chatUserContext.Provider>\r\n    )\r\n} \r\n\r\n// ====== 自定义context hook =============\r\n/**\r\n * @description ChatUserProvider 的子组件可以使用 useChatUser() 获得社交用户的hook\r\n * @return {{ isReady:boolean, setReady:Function, me:object, setMe:function, them:object }}\r\n */\r\nexport function useChatUser() {\r\n    return useContext(chatUserContext);\r\n}","export const DEFAULT_PHOTO = 'data:image/png;base64,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';","import { useState } from \"react\";\r\n\r\n/**\r\n * @description useLocalStorage 将数据存于浏览器内，不受页面刷新影响\r\n * @param {string} key - 数据键值\r\n * @param {object} initialValue - 数据初始值\r\n * @param {boolean} isClearHistory - 是否清除旧数据\r\n * @return {[data:object, storeData:Function]}\r\n */\r\nexport function useLocalStorage(key, initialValue, isClearHistory) {\r\n\r\n    //若isClear为真清除旧数据，完全删除键值\r\n    const [data, setData] = useState(() => {\r\n        isClearHistory && window.localStorage.removeItem(key);\r\n\r\n        try {\r\n            const item = window.localStorage.getItem(key);  //local storage 存储序列化形式的对象 (json string)\r\n            if(item) {\r\n                return JSON.parse(item);\r\n            }\r\n            else {\r\n                window.localStorage.setItem(key, JSON.stringify(initialValue));\r\n                return initialValue;\r\n            }\r\n        } \r\n        catch (error) {\r\n            console.error(error);\r\n            return initialValue;\r\n        }\r\n    });\r\n  \r\n    \r\n    const storeData = (value) => {\r\n        try {\r\n            value = (value instanceof Function) ? value(data) : value; //value 也可以是函数与setState用法一样\r\n            window.localStorage.setItem(key, JSON.stringify(value)); //先将对象序列化再存储\r\n            setData(value); //程序内更新值\r\n        } \r\n        catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n  \r\n    return [data, storeData];\r\n}","import { useAuth } from \"providers/AuthProvider\";\r\nimport { Css } from \"commons/SharedStyle\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default function GroupChat() {\r\n\tconst auth = useAuth();\r\n\r\n\treturn (\r\n\t\t<Div>\r\n\t\t\t{auth.user && auth.user.email}\r\n\t\t</Div>\r\n\t)\r\n}\r\n\r\nconst Div = styled.div `\r\n\theight: 400px;\r\n\twidth: 100%;\r\n\tbackground-color: lightcyan;\r\n\t${Css.flex_col.vert.in_out_space}\r\n\t${Css.flex_col.horz.left}\r\n`","import { useAuth } from \"providers/AuthProvider\";\r\nimport { Css } from \"commons/SharedStyle\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default function Home() {\r\n\tconst auth = useAuth();\r\n\r\n\treturn (\r\n\t\t<Div>\r\n\t\t\t{auth.user && auth.user.email}\r\n\t\t</Div>\r\n\t)\r\n}\r\n\r\nconst Div = styled.div `\r\n\theight: 400px;\r\n\twidth: 100%;\r\n\tbackground-color: lightcoral;\r\n\t${Css.flex_col.vert.in_out_space}\r\n\t${Css.flex_col.horz.left}\r\n`","export default __webpack_public_path__ + \"static/media/blue_planet.13ad91ff.svg\";","export default __webpack_public_path__ + \"static/media/cyan_planet.f7f5fde8.svg\";","export default __webpack_public_path__ + \"static/media/earth.5820ba12.svg\";","export default __webpack_public_path__ + \"static/media/jupiter.2a74c919.svg\";","export default __webpack_public_path__ + \"static/media/moon.fe14d20b.svg\";","export default __webpack_public_path__ + \"static/media/orange_planet.bbf32967.svg\";","export default __webpack_public_path__ + \"static/media/red_planet.3a0827a7.svg\";","export default __webpack_public_path__ + \"static/media/ring_planet.0b6db24e.svg\";","export default __webpack_public_path__ + \"static/media/star.3c47846d.svg\";","import { useSpring, animated } from 'react-spring';\r\nimport styled, { css } from \"styled-components\";\r\nimport { Css } from 'commons/SharedStyle';\r\nimport { useCallback } from 'react';\r\n\r\nimport Blue from \"assets/blue_planet.svg\";\r\nimport Cyan from \"assets/cyan_planet.svg\";\r\nimport Earth from \"assets/earth.svg\";\r\nimport Jupiter from \"assets/jupiter.svg\";\r\nimport Moon from \"assets/moon.svg\";\r\nimport Orange from \"assets/orange_planet.svg\";\r\nimport Red from \"assets/red_planet.svg\";\r\nimport Ring from \"assets/ring_planet.svg\";\r\nimport Star from \"assets/star.svg\";\r\n\r\n\r\nfunction Panel({x, y, slowDown, springProps, children}) {\r\n    const trans = useCallback( (tx, ty) => `translate3d(${tx/slowDown + x}px, ${ty/slowDown + y}px,0)` );\r\n    return (\r\n        <PanelDiv style={{ transform: springProps.xy.interpolate(trans) }}>\r\n            {children}\r\n        </PanelDiv>\r\n    );\r\n}\r\n\r\nfunction Planet({svg, x, y, w, slowDown, springProps}) {\r\n    const trans = useCallback( (tx, ty) => `translate3d(${tx/slowDown + x}px, ${ty/slowDown + y}px, 0)` );\r\n    return (\r\n        <Img src={svg} style={{ width:`${w}ch`, transform: springProps.xy.interpolate(trans) }} />\r\n    );\r\n}\r\n\r\nexport default function LoginSpace({ children }) {\r\n    const [props, set] = useSpring(() => ({ xy: [0, 0], config: { mass: 10, tension: 600, friction: 100 } }));\r\n    const calc = useCallback( (x, y) => [x - window.innerWidth / 2, y - window.innerHeight / 2] );\r\n\r\n    return (\r\n        <Container onMouseMove={({ clientX: x, clientY: y }) => set({ xy: calc(x, y) })}>\r\n            <StarImg src={Star} x={800} y={-200} w={5} />\r\n            <StarImg src={Star} x={-800} y={-100} w={2.5} />\r\n            <StarImg src={Star} x={600} y={300} w={3.5} />\r\n            <StarImg src={Star} x={730} y={-170} w={2} />\r\n            <StarImg src={Star} x={-400} y={200} w={2} />\r\n            <StarImg src={Star} x={-300} y={260} w={4} />\r\n            <StarImg src={Star} x={300} y={-50} w={4} />\r\n            <StarImg src={Star} x={50} y={-350} w={5} />\r\n            <StarImg src={Star} x={150} y={-330} w={2} />\r\n\r\n            <Planet svg={Orange} x={550} y={-200} w={14} slowDown={52} springProps={props} />\r\n            <Planet svg={Jupiter} x={400} y={-290} w={30} slowDown={35} springProps={props} />\r\n            <Planet svg={Ring} x={-200} y={-120} w={120} slowDown={23} springProps={props} />\r\n            <Planet svg={Blue} x={570} y={100} w={16} slowDown={18} springProps={props} />\r\n            <Planet svg={Red} x={150} y={150} w={44} slowDown={10} springProps={props} />\r\n            <Planet svg={Cyan} x={-300} y={-220} w={15} slowDown={5} springProps={props} />\r\n            <Planet svg={Earth} x={-330} y={-180} w={20} slowDown={3} springProps={props} />\r\n            <Planet svg={Moon} x={-380} y={-150} w={6} slowDown={2.5} springProps={props} />\r\n            <Panel  x={0} y={0} slowDown={40} springProps={props} >{children}</Panel>\r\n        </Container>\r\n    )\r\n}\r\n\r\n//======================= style ==========================\r\n//#212F40, #4f719b\r\nconst Container = styled.div `\r\n    height: 100%;\r\n    width: 100%;\r\n\toverflow: hidden;\r\n    /* color: #003e3e; */\r\n    background-image: linear-gradient(150deg,  #4f719b,  #583056 , #003e3e);\r\n    ${Css.flex_col.vert.center}\r\n    ${Css.flex_col.horz.center}\r\n`;\r\n\r\nconst Img = styled(animated.img) `\r\n    position: absolute;\r\n    will-change: transform;\r\n    -webkit-filter: drop-shadow( 0px 0px 6px rgba(255, 255, 255, 0.3));\r\n    filter: drop-shadow( 0px 0px 6px rgba(255, 255, 255, 0.3));\r\n`;\r\n\r\nconst StarImg = styled.img `\r\n    position: absolute;\r\n    width: ${props=>props.w}ch;\r\n    transform: translate3d( ${props=>props.x}px, ${props=>props.y}px, 0);\r\n    -webkit-filter: drop-shadow( 0px 0px 10px rgba(255, 255, 255, 0.8));\r\n    filter: drop-shadow( 0px 0px 10px rgba(255, 255, 255, 0.8));\r\n`;\r\n\r\nconst PanelDiv = styled(animated.div) `\r\n    height: 48ch;\r\n    width: 45ch;\r\n    border-radius: 4ch;\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n    -webkit-backdrop-filter: blur(10px);\r\n    -webkit-filter: drop-shadow( 0px 0px 10px rgba(0, 0, 0, 0.6));\r\n    filter: drop-shadow( 0px 0px 10px rgba(0, 0, 0, 0.6));\r\n    backdrop-filter: blur(10px);\r\n    ${Css.flex_col.vert.center}\r\n    ${Css.flex_col.horz.center}\r\n`;\r\n","import { useAuth } from \"providers/AuthProvider\";\r\nimport { Css } from \"commons/SharedStyle\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useChatUser } from \"providers/ChatUserProvider\";\r\n\r\nexport default function LoginPanel1() {\r\n\tconst auth = useAuth();\r\n    const cUser = useChatUser();\r\n    const { state:{from} } = useLocation();\r\n    const history = useHistory();\r\n    const [password, setPassword] = useState('');\r\n    const [isError, setError] = useState(false);\r\n\r\n\tconst onClick = async ()=>{\r\n\t\tconst isSuccess = await auth.login('stephen@invited.com', password);\r\n\r\n        if(isSuccess){\r\n            cUser.setReady(true);\r\n            history.replace(from);\r\n        }else {\r\n            setError(true);\r\n        } \r\n\t};\r\n\r\n    const onChange = (e)=> {\r\n        setPassword(e.target.value);\r\n        setError(false);\r\n    }\r\n\r\n\treturn (\r\n        <>\r\n            <InvitationCode value={password} onChange={onChange} />\r\n            <Button onClick={onClick}> LOGIN </Button>\r\n            {isError && 'Wrong Invitation Code!'}\r\n        </>\r\n\t)\r\n}\r\n\r\n\r\n//======================= style ==========================\r\nconst InvitationCode = styled.input.attrs(()=>({\r\n    type:'password',\r\n    placeholder:'INVITATION CODE'\r\n}))`\r\n    height: 6ch;\r\n\twidth: 30ch;\r\n    margin: 1.5ch;\r\n    color: #2c2c4e;\r\n    background-color: white;\r\n    border-radius: 4ch;\r\n    border: none;\r\n    text-align: center;\r\n\r\n    :focus{\r\n        outline: none;\r\n    }\r\n`;\r\n\r\n//#53c6b1\r\nconst Button = styled.button `\r\n    height: 6ch;\r\n\twidth: 30ch;\r\n    margin: 1.5ch;\r\n    color: white;\r\n    background-color: #53c6b1;\r\n    border-radius: 4ch;\r\n    border: none;\r\n\r\n    ${Css.flex_col.vert.center}\r\n\t${Css.flex_col.horz.center}\r\n`;\r\n","import { useAuth } from \"providers/AuthProvider\";\r\nimport { Css } from \"commons/SharedStyle\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { useChatUser } from \"providers/ChatUserProvider\";\r\nimport LoginSpace from \"views/LoginSpace\";\r\nimport LoginPanel1 from \"views/LoginPanel1\";\r\n\r\nexport default function Login() {\r\n\tconst auth = useAuth();\r\n    const cUser = useChatUser();\r\n\r\n\treturn (\r\n\t\t<LoginSpace>\r\n            <LoginPanel1/>\r\n\t\t</LoginSpace>\r\n\t)\r\n}\r\n\r\n\r\n//======================= style ==========================\r\n\r\n","import { useAuth } from \"providers/AuthProvider\";\r\nimport { Css } from \"commons/SharedStyle\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default function Profile() {\r\n\tconst auth = useAuth();\r\n\r\n\treturn (\r\n\t\t<Div>\r\n\t\t\t{auth.user && auth.user.email}\r\n\t\t</Div>\r\n\t)\r\n}\r\n\r\nconst Div = styled.div `\r\n\theight: 400px;\r\n\twidth: 100%;\r\n\tbackground-color: lightseagreen;\r\n\t${Css.flex_col.vert.in_out_space}\r\n\t${Css.flex_col.horz.left}\r\n`","import { useAuth } from \"providers/AuthProvider\";\r\nimport { useChatUser } from \"providers/ChatUserProvider\";\r\nimport { Css } from \"commons/SharedStyle\";\r\nimport { HashRouter, Link, Redirect, Route, Switch, useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport GroupChat from \"./GroupChat\";\r\nimport Home from \"./Home\";\r\nimport Login from \"./Login\";\r\nimport Profile from \"./Profile\";\r\n\r\n\r\n//================ constants =========================\r\nexport const LOGIN = '/login';\r\nexport const HOME = '/';\r\nexport const GROUPCHAT = '/groupchat';\r\nexport const PROFILE = '/profile';\r\n\r\n\r\n//================ default route components =========================\r\nfunction DefaultRoute({ redirectPath }) {\r\n    const location = useLocation();\r\n    return (\r\n        <Route path='*' >\r\n            <Redirect to={{ pathname: redirectPath, state: { from: location } }} />\r\n        </Route>\r\n    );\r\n}\r\n\r\n\r\n//================ default App Route =========================\r\nexport default function AppRouter() {\r\n    const auth = useAuth();\r\n    const cUser = useChatUser();\r\n\r\n    return (\r\n        <>\r\n        {auth.isInit ? ( //判断是否在自动登录\r\n            <HashRouter>\r\n                { (auth.user && cUser.isReady) ? (\r\n                    <>\r\n                    <Navigation>\r\n                        <NavButton to={HOME}>Home</NavButton>\r\n                        <NavButton to={GROUPCHAT}>Group Chat</NavButton>\r\n                        <NavButton to={PROFILE}>Profile</NavButton>\r\n                        <button onClick={()=>auth.logout()}>sign out</button>\r\n                    </Navigation>\r\n                    \r\n                    <Switch>\r\n                        <Route exact path={HOME}> <Home/> </Route>\r\n                        <Route exact path={GROUPCHAT}> <GroupChat/> </Route>\r\n                        <Route exact path={PROFILE}> <Profile/>  </Route>\r\n                        <DefaultRoute redirectPath={HOME}/>\r\n                    </Switch>\r\n                    </>\r\n                ) : (\r\n                    <Switch>\r\n                        <Route exact path={LOGIN}> <Login/> </Route>\r\n                        <DefaultRoute redirectPath={LOGIN}/>\r\n                    </Switch>\r\n                )}\r\n            </HashRouter>\r\n        ) : (\r\n            <span>'initializing'</span>\r\n        )}\r\n        </>\r\n    );\r\n}\r\n\r\n\r\n//======================= style ==========================\r\nconst NavButton = styled(Link) `\r\n    width: 170px;\r\n    height: 50px;\r\n    color: white;\r\n    text-decoration: none;\r\n    background-color: #8080c0;\r\n    border-radius: 25px;\r\n    ${Css.flex_row.horz.center}\r\n    ${Css.flex_row.vert.center}\r\n`;\r\n\r\nconst Navigation = styled.div `\r\n    width: 100%;\r\n    height: 50px;\r\n    background-color: #91dbff;\r\n    ${Css.flex_row.horz.in_out_space}\r\n    ${Css.flex_row.vert.center}\r\n`;","import * as tf from '@tensorflow/tfjs'\r\nimport * as WebCam from 'react-webcam' \r\nimport styled from 'styled-components';\r\nimport { GlobalStyle } from 'commons/SharedStyle';\r\nimport { AuthProvider } from 'providers/AuthProvider';\r\nimport { ChatUserProvider } from 'providers/ChatUserProvider';\r\n\r\nimport AppRouter from 'views_router/AppRouter';\r\n\r\nfunction App() {\r\n  \treturn (\r\n\t\t<AppContainer>\r\n\t\t\t<GlobalStyle/>\r\n\t\t\t\t<AuthProvider>\r\n\t\t\t\t\t<ChatUserProvider>\r\n\r\n\t\t\t\t\t\t<AppRouter />\r\n\r\n\t\t\t\t\t</ChatUserProvider>\r\n\t\t\t</AuthProvider>\r\n\t\t</AppContainer>\r\n\t);\r\n}\r\n\r\nconst AppContainer = styled.div`\r\n\tbackground-color: #ffffff;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n`\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from 'App';\r\nimport reportWebVitals from '_init_/reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}